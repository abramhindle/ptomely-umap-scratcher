<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Demo using scale settings</title>
  <style>
    body {
      font:16px sans-serif;
      background:#ccc;
      }
    canvas {
      background:#999;
      cursor:crosshair;
      width:500px;
      height:500px;
      }
  </style>
</head>
<body>
<h2>The canvas element has been scaled via CSS using a different size than its bitmap.</h2>

<canvas id="canvas" width="1000" height="1000"></canvas>

<button>Clear</button>

<script src="../src/canvas-mouse.js"></script>
<script>

  var canvas = document.getElementById("canvas");
  var ctx = canvas.getContext("2d");

  // Create an instance of our position handler
  var cm = new CanvasMouse(ctx, {
    handleScale: true
  });

  // draw white background so we can see padding.
  ctx.fillStyle = "#fff";
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = "#007";

  // lets go
  canvas.onmousemove = function(e) {
    e.preventDefault();
    e.stopPropagation();
    var pos = cm.getPos(e);
    ctx.fillRect(pos.x-2, pos.y-2, 4, 4);
  };

  document.querySelector("button").onclick = function() {
    ctx.fillStyle = "#fff";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "#007";
  };

</script>
</body>
</html>